---
import { NAVIGATION_LINKS } from "@/consts";
import HeaderLink from "./HeaderLink.astro";
---

<nav id="sidebar" transition:name="sidebar">
  <div class="links">
    {
      NAVIGATION_LINKS.map(({ link, title }) => (
        <HeaderLink
          transition:name={`sidebar-links-${title}`}
          href={link}
          title={title}
        />
      ))
    }
  </div>
</nav>
<div class="backdrop" id="sidebar-backdrop"></div>
<style lang="scss">
  @use "../styles/media-query" as *;
  nav {
    display: none;
    background-color: var(--neutral-100);
    position: absolute;
    top: var(--navbar-height);
    z-index: var(--z-index-sidebar-backdrop);
    right: -100vh;
    height: calc(-6rem + 100vh);
    width: 45vw;

    transition: all 0.3s ease-in-out;
    @include breakpoint(tablet) {
      display: none !important;
    }

    &.show {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 1rem 2rem;
      right: 0;

      & .links {
        display: flex;
        flex-direction: column;
      }

      & + .backdrop {
        display: block;
        position: fixed;
        background-color: var(--neutral-700);
        opacity: 70%;
        inset: var(--navbar-height) 0 0 0;
        content: "";
        z-index: -1;
      }
    }
  }
  .backdrop {
    top: var(--navbar-height);
    display: none;
  }
</style>
